"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[295],{8295:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var a=n(2791),r=n(9434),s=n(3634),o=n(6916),c=function(e){return e.contacts.items},i=function(e){return e.contacts.isLoading},l=function(e){return e.contacts.error},d=function(e){return e.filter},u=(0,o.P1)([c,d],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),m=n(9439),_=n(5984),h=n(8174),x="ContactForm_contact-form__1+2ej",b="ContactForm_buttons-bar__F9FuH",f="ContactForm_disabled__XBn+S",v=n(3329),p=function(){var e=(0,a.useState)(""),t=(0,m.Z)(e,2),n=t[0],o=t[1],i=(0,a.useState)(""),l=(0,m.Z)(i,2),d=l[0],u=l[1],p=(0,r.I0)(),j=(0,r.v9)(c),C=(0,_.x0)(),N=(0,_.x0)(),g=function(e){var t=e.currentTarget,a=t.name,r=t.value;switch(a){case"name":o(r);break;case"number":u(r);break;default:return void console.log("Error: there isn't ".concat(n," input for value ").concat(r,". Check form markup."))}},w=function(){o(""),u("")};return(0,v.jsxs)("form",{className:x,autoComplete:"off",onSubmit:function(e){var t;(e.preventDefault(),t=n,j.some((function(e){return e.name.toLowerCase()===t.toLowerCase()})))?h.Am.error("".concat(n," is already in contacts.")):(p((0,s.uK)({name:n,number:d})),w())},children:[(0,v.jsxs)("label",{htmlFor:C,children:["Name",(0,v.jsx)("input",{type:"text",name:"name",id:C,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:g,value:n})]}),(0,v.jsxs)("label",{htmlFor:N,children:["Number",(0,v.jsx)("input",{type:"tel",name:"number",id:N,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:g,value:d})]}),(0,v.jsxs)("div",{className:b,children:[(0,v.jsx)("button",{type:"submit",children:"Add contact"}),(0,v.jsx)("button",{type:"button",onClick:w,disabled:!n&&!d,className:n||d?void 0:f,children:"Clear"})]})]})},j=n(4164),C="Modal_overlay__r63M6",N="Modal_modal__DJDMv",g="Modal_btn-close__wlubt",w=document.querySelector("#modal-root"),y=function(e){var t=e.onClose,n=e.children;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,j.createPortal)((0,v.jsx)("div",{className:C,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,v.jsxs)("div",{className:N,children:[n,(0,v.jsx)("button",{type:"button",onClick:function(){return t()},className:g,children:"x"})]})}),w)},k=n(6382),F="EditContactForm_wrapper__bVmYu",L="EditContactForm_avatar__xR-Z7",E="EditContactForm_contact-form__YHbFG",I="EditContactForm_form-title__iFOas",A="EditContactForm_buttons-bar__A2E3H",Z="EditContactForm_disabled__N+J+O",M=function(e){var t=e.id,n=e.prevName,o=e.prevNumber,i=e.closeModal,l=e.avatar,d=(0,a.useState)(n),u=(0,m.Z)(d,2),_=u[0],x=u[1],b=(0,a.useState)(o),f=(0,m.Z)(b,2),p=f[0],j=f[1],C=(0,r.I0)(),N=(0,r.v9)(c),g=(0,k.nanoid)(),w=(0,k.nanoid)(),y=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"name":x(a);break;case"number":j(a);break;default:return void console.log("Error: there isn't ".concat(_," input for value ").concat(a,". Check form markup."))}},M=function(){x(""),j("")};return(0,v.jsxs)("div",{className:F,children:[(0,v.jsx)("img",{src:l,className:L,alt:"contact's avatar",width:80}),(0,v.jsxs)("form",{className:E,autoComplete:"off",onSubmit:function(e){var n;(e.preventDefault(),n=_,N.filter((function(e){return e.id!==t})).some((function(e){return e.name.toLowerCase()===n.toLowerCase()})))?h.Am.error("".concat(_," is already in contacts.")):(C((0,s.mP)({id:t,name:_,number:p})),M(),i())},children:[(0,v.jsx)("p",{className:I,children:"Edit contact:"}),(0,v.jsxs)("label",{htmlFor:g,children:["Name",(0,v.jsx)("input",{type:"text",name:"name",id:g,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:y,value:_})]}),(0,v.jsxs)("label",{htmlFor:w,children:["Number",(0,v.jsx)("input",{type:"tel",name:"number",id:w,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:y,value:p})]}),(0,v.jsxs)("div",{className:A,children:[(0,v.jsx)("button",{type:"submit",children:"Save"}),(0,v.jsx)("button",{type:"button",onClick:M,disabled:!_&&!p,className:_||p?void 0:Z,children:"Clear"})]})]})]})},S=n(9231),z="ContactListItem_contact-item__o0gon",D="ContactListItem_avatar__cNInG",P="ContactListItem_contact-text__lM+Pf",q="ContactListItem_contact-name__cpENy",J="ContactListItem_buttons-bar__kW+0p",B="ContactListItem_delete-btn__GM9hb",G="ContactListItem_edit-btn__jIf12",T="ContactListItem_btn-label__SDiMJ",R=function(e){var t=e.id,n=e.name,o=e.number,c=(0,a.useState)(!1),i=(0,m.Z)(c,2),l=i[0],d=i[1],u=(0,r.I0)(),_=function(){d((function(e){return!e}))},h=S.u.getImgById(t);return(0,v.jsxs)("li",{className:z,children:[(0,v.jsx)("img",{src:h,className:D,alt:"random animal",width:48}),(0,v.jsxs)("p",{className:P,children:[(0,v.jsxs)("span",{className:q,children:[n,":"]})," ",o]}),(0,v.jsxs)("div",{className:J,children:[(0,v.jsx)("button",{type:"button",className:G,onClick:_,children:(0,v.jsx)("span",{className:T,children:"Edit"})}),(0,v.jsx)("button",{className:B,type:"button",onClick:function(){return function(e){u((0,s.GK)(e))}(t)},children:(0,v.jsx)("span",{className:T,children:"Delete"})})]}),l&&(0,v.jsx)(y,{onClose:_,children:(0,v.jsx)(M,{id:t,prevName:n,prevNumber:o,closeModal:_,avatar:h})})]})},H="ContactList_contact-list__GnW-D",W=function(){var e=(0,r.v9)(u);return(0,v.jsx)("ul",{className:H,children:e.map((function(e){var t=e.name,n=e.number,a=e.id;return(0,v.jsx)(R,{id:a,name:t,number:n},a)}))})},Y=n(4808),$="Filter_filter__vxThR",K=function(){var e=(0,r.I0)(),t=(0,r.v9)(d);return(0,v.jsxs)("label",{className:$,children:["Find contact by name",(0,v.jsx)("input",{type:"text",value:t,onChange:function(t){e((0,Y.V)(t.currentTarget.value))}})]})},O=n(828),Q="Loader_loader__+lRPl",V="Loader_loader-text__DZQo8",X="Loader_icon-spin__CrunX",U=function(){return(0,v.jsxs)("div",{className:Q,children:[(0,v.jsx)(O.Nbw,{size:16,className:X}),(0,v.jsx)("span",{className:V,children:"Loading..."})]})},ee=n(6856),te={error:"Error_error__9uczQ",icon:"Error_icon__qD3vi",title:"Error_title__WNFwj"},ne=function(e){var t=e.message;return(0,v.jsxs)("div",{className:te.error,children:[(0,v.jsx)(ee.wr$,{size:32,className:te.icon}),(0,v.jsxs)("div",{className:te.text,children:[(0,v.jsx)("p",{className:te.title,children:t}),(0,v.jsx)("p",{className:te.subtitle,children:"Something went wrong... Please try again later."})]})]})},ae=n(6907),re="Contacts_wrapper__s7EJR",se="Contacts_inner__4sMNZ",oe=function(){var e=(0,r.I0)(),t=(0,r.v9)(i),n=(0,r.v9)(l);return(0,a.useEffect)((function(){e((0,s.yF)())}),[e]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ae.B6,{children:(0,v.jsx)(ae.ql,{children:(0,v.jsx)("title",{children:"Your contacts"})})}),(0,v.jsxs)("div",{className:re,children:[(0,v.jsx)("h1",{className:"visually-hidden",children:"Phonebook"}),(0,v.jsxs)("div",{className:se,children:[(0,v.jsx)("h2",{children:"Add new contact"}),(0,v.jsx)(p,{})]}),(0,v.jsxs)("div",{className:se,children:[(0,v.jsx)("h2",{children:"Contacts"}),(0,v.jsx)(K,{}),n&&(0,v.jsx)(ne,{message:n}),t&&!n&&(0,v.jsx)(U,{}),(0,v.jsx)(W,{})]})]})]})}}}]);
//# sourceMappingURL=295.72cddffd.chunk.js.map